# WinClaw UI リデザイン提案書

> 目標: 開発者向けダッシュボードから、**普通のユーザーでも直感的に使える商業グレードのAIアシスタント**へ

---

## 現状の問題点

| 問題 | 詳細 |
|------|------|
| 情報過多 | 13個のタブが一列に並び、初心者は圧倒される |
| 開発者寄り | Debug, Logs, Instances, Nodes など技術用語がむき出し |
| Chat が主役でない | Chat は13タブの1つに過ぎず、AIアシスタントとしての中心性が欠けている |
| 設定が複雑 | JSON直接編集、手動チャネル設定など、エンジニア前提の操作 |
| ビジュアル | 機能的だが無味乾燥、ブランド感やデライトが乏しい |

---

## 共通設計原則（全3案に適用）

1. **Chat-First**: チャットが唯一のメイン画面。全設定はAIとの対話でも完了可能
2. **Progressive Disclosure**: 複雑な設定は二級画面に隠し、段階的に開示
3. **Zero Config Start**: 初回起動でチャットが即使用可能、設定不要
4. **AI-Assisted Settings**: 「Slackと連携して」と打てばAIがガイド

---

# 方案A: 「Claude Style」— フルスクリーンチャット型

## コンセプト
Claude Desktop / ChatGPT に最も近いデザイン。チャットが画面の100%を占め、
全機能はサイドパネルかAI対話で完結。最もシンプルで直感的。

## レイアウト

```
┌─────────────────────────────────────────────────────┐
│  ← WinClaw          ✦ Model: Claude 4    ⚙ ⋮  │
├─────────────────────────────────────────────────────┤
│                                                     │
│          Welcome to WinClaw                         │
│     Your AI assistant for everything.               │
│                                                     │
│   ┌─────────┐  ┌──────────┐  ┌──────────┐         │
│   │📊 分析   │  │📝 文書作成│  │🔗 連携設定│         │
│   └─────────┘  └──────────┘  └──────────┘         │
│                                                     │
│  ┌─ AI Message ──────────────────────────────────┐  │
│  │ こんにちは！WinClawです。何をお手伝い          │  │
│  │ しましょうか？                                 │  │
│  │                                                │  │
│  │ 💡 ヒント: 「Slackを接続して」「使用量を      │  │
│  │ 教えて」「スケジュールを設定して」など、      │  │
│  │ なんでも聞いてください。                      │  │
│  └────────────────────────────────────────────────┘  │
│                                                     │
│  ┌─ User ────────────────────────────────────────┐  │
│  │ Slackと連携したいんだけど                      │  │
│  └────────────────────────────────────────────────┘  │
│                                                     │
│  ┌─ AI ──────────────────────────────────────────┐  │
│  │ Slack連携を設定しますね！                      │  │
│  │                                                │  │
│  │ ┌──── Slack Setup Card ─────────────────┐     │  │
│  │ │ 🔗 Slack Workspace: [workspace URL]    │     │  │
│  │ │ 📋 Bot Token: [paste here]             │     │  │
│  │ │ #  Channels: [select channels]         │     │  │
│  │ │                                        │     │  │
│  │ │         [接続する]  [キャンセル]        │     │  │
│  │ └────────────────────────────────────────┘     │  │
│  └────────────────────────────────────────────────┘  │
│                                                     │
├─────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────┐ 📎 │
│ │ メッセージを入力...                          │ ➤  │
│ └─────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────┘
```

## 画面遷移

```
[チャット画面 (メイン/唯一)]
    │
    ├── ⚙ 設定ボタン → スライドインパネル (右から)
    │   ├── プロフィール / AI Model選択
    │   ├── 接続済みサービス (Slack, Discord...)
    │   ├── 使用量サマリー
    │   └── 🔧 詳細設定 → 二級ページ (タブ型)
    │       ├── チャネル管理
    │       ├── エージェント設定
    │       ├── スケジュール
    │       ├── Nodes / Instances
    │       ├── Config (JSON)
    │       ├── Debug
    │       └── Logs
    │
    ├── ⋮ メニュー
    │   ├── 新しい会話
    │   ├── 会話履歴
    │   ├── ヘルプ
    │   └── WinClawについて
    │
    └── ✦ Model選択ドロップダウン
```

## 機能マッピング（現在の13タブ → 新配置）

| 現タブ | 新しい配置 | アクセス方法 |
|--------|-----------|-------------|
| Chat | **メイン画面** | 常時表示 |
| Overview | チャット内カード / 設定パネルのサマリー | 「ステータスを教えて」で表示 |
| Channels | 設定パネル → 接続済みサービス | 「Slackを接続して」でガイド |
| Instances | 詳細設定 → Instances | 二級ページ |
| Sessions | チャット履歴メニュー + 詳細設定 | ⋮メニュー |
| Usage | 設定パネル → 使用量サマリー | 「使用量を教えて」で表示 |
| Cron Jobs | 設定パネル → スケジュール | 「毎朝レポートして」で設定 |
| Agents | 詳細設定 → エージェント | 二級ページ |
| Skills | チャット内で自動表示 | 「何ができるの？」で一覧 |
| Nodes | 詳細設定 → Nodes | 二級ページ |
| Config | 詳細設定 → Config | 二級ページ |
| Debug | 詳細設定 → Debug | 二級ページ |
| Logs | 詳細設定 → Logs | 二級ページ |

## ビジュアルデザイン

- **配色**: ダーク/ライト自動切り替え。プライマリカラー: #E85D3A (WinClawオレンジ)
- **フォント**: Inter / Noto Sans CJK (日中韓対応)
- **メッセージバブル**: 角丸16px、ユーザー=ブランドカラー背景、AI=グレー系背景
- **アニメーション**: メッセージ出現時のフェードイン、サイドパネルのスライド
- **設定カード**: チャット内にインラインで表示されるインタラクティブカード

## メリット・デメリット

| ✅ メリット | ❌ デメリット |
|------------|-------------|
| 最もシンプルで直感的 | パワーユーザーには画面遷移が多い |
| AIアシスタント感が最も強い | 複数設定を同時に見比べにくい |
| Claude Desktop利用者に馴染みやすい | チャット以外の情報表示が限定的 |
| モバイル展開が容易 | ダッシュボード的な一覧性が弱い |

---

# 方案B: 「WeChat Style」— サイドバー + チャット型

## コンセプト
WeChat/Telegram Desktop に近い。左にスリムなアイコンサイドバー、
中央にチャット。普段はチャット主体だが、サイドバーで主要機能に
ワンクリックアクセス。チャットと管理のバランスが良い。

## レイアウト

```
┌──┬────────────────────────────────────────────────────┐
│  │  💬 Chat                          ✦ Model  ⚙    │
│  ├────────────────────────────────────────────────────┤
│💬│                                                    │
│  │  ┌─ AI ────────────────────────────────────────┐  │
│  │  │ おはようございます！今日の予定を              │  │
│──│  │ 確認しましょうか？                            │  │
│📊│  └──────────────────────────────────────────────┘  │
│  │                                                    │
│──│  ┌─ You ───────────────────────────────────────┐  │
│🔗│  │ 今月の使用量を教えて                          │  │
│  │  └──────────────────────────────────────────────┘  │
│──│                                                    │
│⏰│  ┌─ AI ────────────────────────────────────────┐  │
│  │  │ 今月の使用量です:                             │  │
│──│  │                                              │  │
│🤖│  │  ┌─── Usage Summary Card ──────────────┐    │  │
│  │  │  │ 📊 トークン使用量                     │    │  │
│──│  │  │                                      │    │  │
│  │  │  │  Input:   1.2M tokens   ($3.60)     │    │  │
│  │  │  │  Output:  0.8M tokens   ($12.00)    │    │  │
│  │  │  │  Total:   2.0M tokens   ($15.60)    │    │  │
│  │  │  │                                      │    │  │
│  │  │  │  ████████████░░░░ 62% of limit      │    │  │
│  │  │  │                                      │    │  │
│  │  │  │  [詳細を見る]                         │    │  │
│  │  │  └──────────────────────────────────────┘    │  │
│  │  └──────────────────────────────────────────────┘  │
│  │                                                    │
│──│                                                    │
│⚙│  ┌───────────────────────────────────────────┐ 📎  │
│  │  │ メッセージを入力...                        │ ➤   │
│  │  └───────────────────────────────────────────┘     │
└──┴────────────────────────────────────────────────────┘
```

## サイドバーアイコン構成

```
左サイドバー (48px幅、アイコンのみ)
┌────┐
│ 💬 │  Chat (メイン) ← デフォルト選択
├────┤
│ 📊 │  ダッシュボード (Overview + Usage を統合)
├────┤
│ 🔗 │  接続 (Channels 管理)
├────┤
│ ⏰ │  スケジュール (Cron Jobs)
├────┤
│ 🤖 │  エージェント (Agents + Skills 統合)
├────┤
│    │  ← スペーサー
├────┤
│ ⚙ │  設定 (Config, Nodes, Instances, Debug, Logs)
└────┘
```

## 各画面の構成

### Chat画面 (デフォルト)
- フルスクリーンチャット
- AIが設定・ダッシュボード情報をインラインカードで表示
- クイックアクション候補をサジェスト

### ダッシュボード画面
```
┌──┬────────────────────────────────────────────────────┐
│  │  📊 ダッシュボード                                  │
│  ├────────────────────────────────────────────────────┤
│  │                                                    │
│  │  ┌─── Health ───┐  ┌─── 使用量 ────┐             │
│  │  │ ● Running    │  │ 今月: $15.60  │             │
│  │  │ Port: 18789  │  │ ██████░ 62%   │             │
│  │  └──────────────┘  └───────────────┘             │
│  │                                                    │
│  │  ┌─── 接続済みサービス ─────────────────────┐     │
│  │  │ ✅ Slack (3 channels)                     │     │
│  │  │ ✅ Discord (2 servers)                    │     │
│  │  │ ⬚ Telegram (未接続)  [接続する]           │     │
│  │  └───────────────────────────────────────────┘     │
│  │                                                    │
│  │  ┌─── 最近のセッション ─────────────────────┐     │
│  │  │ 📝 コード分析  10:30  2.1K tokens        │     │
│  │  │ 📝 議事録作成   09:15  1.5K tokens        │     │
│  │  └───────────────────────────────────────────┘     │
│  │                                                    │
└──┴────────────────────────────────────────────────────┘
```

### 接続画面
```
┌──┬────────────────────────────────────────────────────┐
│  │  🔗 接続サービス                    [+ 新規接続]   │
│  ├────────────────────────────────────────────────────┤
│  │                                                    │
│  │  ┌── Slack ──────────────────────────────────┐    │
│  │  │ ✅ workspace.slack.com                     │    │
│  │  │ Channels: #general, #dev, #random          │    │
│  │  │ Last sync: 5 min ago                       │    │
│  │  │                      [設定] [切断]          │    │
│  │  └────────────────────────────────────────────┘    │
│  │                                                    │
│  │  ┌── Discord ────────────────────────────────┐    │
│  │  │ ✅ My Server                               │    │
│  │  │ Channels: #chat, #support                  │    │
│  │  │                      [設定] [切断]          │    │
│  │  └────────────────────────────────────────────┘    │
│  │                                                    │
│  │  ┌── 追加可能 ───────────────────────────────┐    │
│  │  │ Telegram  WhatsApp  Signal  LINE           │    │
│  │  │ Google Chat  Nostr  iMessage               │    │
│  │  └────────────────────────────────────────────┘    │
│  │                                                    │
└──┴────────────────────────────────────────────────────┘
```

### 設定画面 (⚙ アイコン)
```
┌──┬────────────────────────────────────────────────────┐
│  │  ⚙ 設定                                            │
│  ├────────────────────────────────────────────────────┤
│  │                                                    │
│  │  一般                                              │
│  │  ┌────────────────────────────────────────────┐   │
│  │  │ テーマ          [ダーク ▾]                  │   │
│  │  │ 言語            [日本語 ▾]                  │   │
│  │  │ AI Model        [Claude Opus 4.6 ▾]       │   │
│  │  │ 起動時に開く     [✓]                        │   │
│  │  └────────────────────────────────────────────┘   │
│  │                                                    │
│  │  詳細設定 (上級者向け)                              │
│  │  ┌────────────────────────────────────────────┐   │
│  │  │ ▸ Nodes & Instances                        │   │
│  │  │ ▸ Config (JSON)                            │   │
│  │  │ ▸ Debug Console                            │   │
│  │  │ ▸ Gateway Logs                             │   │
│  │  └────────────────────────────────────────────┘   │
│  │                                                    │
└──┴────────────────────────────────────────────────────┘
```

## メリット・デメリット

| ✅ メリット | ❌ デメリット |
|------------|-------------|
| チャット中心 + 主要機能に即アクセス | 方案Aよりやや複雑 |
| WeChat/Slack利用者に馴染みやすい | サイドバーのアイコンの意味を覚える必要 |
| ダッシュボードで一覧性も確保 | 5-6画面の開発コスト |
| モバイル展開時はボトムナビに変換可能 | サイドバーが小さすぎると押しにくい |

---

# 方案C: 「Notion Style」— コマンドパレット + ミニマルハブ型

## コンセプト
Notion / Raycast / Spotlight 的アプローチ。メイン画面はチャットだが、
Cmd+K (Ctrl+K) でコマンドパレットを開き、全機能に即アクセス。
ステータスバーで最小限の情報を常時表示。最もミニマルかつパワフル。

## レイアウト（通常時）

```
┌─────────────────────────────────────────────────────┐
│  WinClaw                    ● Connected   ⌘K  ⚙   │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ┌── Session: New Chat ─────────────── ✕ ──────┐   │
│  │                                              │   │
│  │                                              │   │
│  │           (チャットメッセージ)                  │   │
│  │                                              │   │
│  │                                              │   │
│  └──────────────────────────────────────────────┘   │
│                                                     │
│  ┌───────────────────────────────────┐              │
│  │ Sessions:  New Chat │ 📄 分析 │ + │              │
│  └───────────────────────────────────┘              │
│                                                     │
├─────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────┐ 📎 │
│ │ メッセージを入力... (⌘K でコマンド)          │ ➤  │
│ └─────────────────────────────────────────────┘     │
├─────────────────────────────────────────────────────┤
│ 🟢 Gateway OK │ Slack ✓ Discord ✓ │ $15.60 │ 10:35│
└─────────────────────────────────────────────────────┘
```

## コマンドパレット (⌘K / Ctrl+K)

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│     ┌─────────────────────────────────────────┐     │
│     │ 🔍 コマンドを検索...                     │     │
│     ├─────────────────────────────────────────┤     │
│     │                                         │     │
│     │  最近のコマンド                          │     │
│     │  📊 使用量を確認          usage          │     │
│     │  🔗 Slackを管理          channels        │     │
│     │                                         │     │
│     │  チャット                                │     │
│     │  💬 新しい会話            Ctrl+N         │     │
│     │  📋 会話履歴              Ctrl+H         │     │
│     │                                         │     │
│     │  接続・サービス                          │     │
│     │  🔗 チャネル管理          channels        │     │
│     │  🤖 エージェント設定      agents          │     │
│     │  ⏰ スケジュール管理      cron            │     │
│     │                                         │     │
│     │  システム                                │     │
│     │  ⚙ 設定                  Ctrl+,         │     │
│     │  📊 ダッシュボード        overview        │     │
│     │  📝 ログ表示              logs            │     │
│     │  🔧 デバッグ              debug           │     │
│     │                                         │     │
│     └─────────────────────────────────────────┘     │
│                                                     │
└─────────────────────────────────────────────────────┘
```

## セッションタブ（ブラウザのタブ風）

```
┌─────────────────────────────────────────────────────┐
│ Sessions:                                           │
│ ┌─────────┐ ┌──────────┐ ┌──────────┐ ┌───┐       │
│ │💬 Chat  │ │📊 Usage  │ │🔗 Slack  │ │ + │       │
│ │ (active)│ │          │ │ Setup    │ │   │       │
│ └─────────┘ └──────────┘ └──────────┘ └───┘       │
└─────────────────────────────────────────────────────┘
```

コマンドパレットから開いた設定画面は、チャットの横にタブとして表示。
ブラウザのタブ感覚で複数コンテキストを切り替え可能。

## ステータスバー（常時表示）

```
┌─────────────────────────────────────────────────────┐
│ 🟢 Gateway OK │ Slack ✓ Discord ✓ │ $15.60 │ 10:35│
└─────────────────────────────────────────────────────┘

クリックで展開:
┌─────────────────────────────────────────────────────┐
│ ┌── Gateway ──────┐ ┌── Channels ────┐ ┌── Cost ─┐│
│ │ Status: Running │ │ Slack:  3 ch   │ │ Today:  ││
│ │ Port: 18789     │ │ Discord: 2 ch  │ │  $2.40  ││
│ │ PID: 12345      │ │ Telegram: —    │ │ Month:  ││
│ │ Uptime: 2h 15m  │ │                │ │  $15.60 ││
│ │ [Restart]       │ │ [Manage]       │ │ [Detail]││
│ └─────────────────┘ └────────────────┘ └─────────┘│
└─────────────────────────────────────────────────────┘
```

## 設定画面（コマンドパレットからアクセス）

タブとして開かれる（チャットと並行して表示可能）:

```
┌─────────────────────────────────────────────────────┐
│  ⚙ 設定                                     ✕     │
├─────────────────────────────────────────────────────┤
│                                                     │
│  🎨 外観                                            │
│     テーマ: [Auto ▾]   フォント: [14px ▾]           │
│                                                     │
│  🤖 AI                                              │
│     Model: [Claude Opus 4.6 ▾]                     │
│     Temperature: [━━━━━━━●━━ 0.7]                  │
│                                                     │
│  🔗 接続                                            │
│     Slack ✅  Discord ✅  Telegram ⬚               │
│                                                     │
│  ──────── 上級者向け ────────                        │
│  ▸ Nodes & デバイス                                  │
│  ▸ インスタンス管理                                  │
│  ▸ 設定ファイル (JSON)                               │
│  ▸ デバッグコンソール                                │
│  ▸ ゲートウェイログ                                  │
│                                                     │
└─────────────────────────────────────────────────────┘
```

## メリット・デメリット

| ✅ メリット | ❌ デメリット |
|------------|-------------|
| 最もミニマルなメイン画面 | コマンドパレットは学習が必要 |
| パワーユーザーに最速のアクセス | 初心者はCtrl+Kを知らない可能性 |
| タブで複数コンテキスト並行表示 | 実装コストが最も高い |
| ステータスバーで常時モニタリング | モバイル展開にはUX変更が必要 |
| Notion/VSCode利用者に馴染みやすい | |

---

# 3案の比較表

| 項目 | 方案A (Claude Style) | 方案B (WeChat Style) | 方案C (Notion Style) |
|------|---------------------|---------------------|---------------------|
| **メイン画面** | フルスクリーンChat | サイドバー + Chat | Chat + タブ + ステータスバー |
| **ナビゲーション** | ⚙ボタン → スライドパネル | アイコンサイドバー (48px) | ⌘K コマンドパレット |
| **設定アクセス** | AI対話 + スライドパネル | サイドバー → 各画面 | コマンドパレット → タブ |
| **一覧性** | ❌ 低い (チャット中心) | ⭕ 中程度 (ダッシュボードあり) | ⭕ 高い (タブ並行表示) |
| **初心者親和性** | ⭕⭕ 最も高い | ⭕ 高い | △ やや学習コスト |
| **パワーユーザー** | △ 画面遷移が多い | ⭕ バランス良い | ⭕⭕ 最速 |
| **実装コスト** | 低い | 中程度 | 高い |
| **モバイル展開** | ⭕⭕ そのまま使える | ⭕ ボトムナビに変換 | △ UX変更必要 |
| **参考アプリ** | Claude Desktop, ChatGPT | WeChat, Telegram, Slack | Notion, VSCode, Raycast |
| **ターゲット** | 一般消費者、非技術者 | ビジネスユーザー全般 | テック寄りビジネスユーザー |

---

# 推奨

## ハイブリッド案: 方案B をベースに、方案A の AI-First と方案C のステータスバーを組み合わせ

最も商業的に成功しやすいのは **方案B (WeChat Style) のサイドバー構成** をベースに:

1. **方案A の AI-First 思想**: サイドバーの各画面でも、チャットで設定可能なことを明示
2. **方案C のステータスバー**: 画面下部に最小限のステータス表示
3. **方案C のコマンドパレット**: Ctrl+K をオプションで利用可能（パワーユーザー向け）

```
┌──┬────────────────────────────────────────────────────┐
│💬│  チャット / ダッシュボード / 接続 画面              │
│📊│                                                    │
│🔗│              (メインコンテンツ)                     │
│⏰│                                                    │
│🤖│                                                    │
│  │                                                    │
│⚙│                                                    │
├──┴────────────────────────────────────────────────────┤
│ 🟢 Online │ Slack ✓ │ $15.60 this month │ ⌘K       │
└───────────────────────────────────────────────────────┘
```

この構成なら:
- **初心者**: チャットだけで全て完結
- **中級者**: サイドバーで直感的に操作
- **上級者**: ⌘K + 詳細設定で高速操作
- **モバイル**: サイドバー → ボトムナビに変換

---

# 次のステップ

1. 上記3案（またはハイブリッド案）のうち、方向性を決定
2. Figma / HTMLプロトタイプで詳細デザイン
3. 既存 Lit コンポーネントの段階的リファクタリング計画
4. Phase 1: Chat画面のリデザイン + ナビゲーション変更
5. Phase 2: ダッシュボード・接続画面の新規作成
6. Phase 3: 設定の階層化 + コマンドパレット実装
