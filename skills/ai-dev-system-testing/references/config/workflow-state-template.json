{
  "_comment": "Workflow State - Auto-generated by Phase Init. Pass rates are loaded from phase5-loop-control.json",
  "_version": "1.0.0",
  
  "workspace": "",
  "frontend_url": "",
  "backend_url": "",
  "database_url": "",
  "timestamp": "",
  "skill_dir": "",
  
  "phases": {
    "init": {
      "status": "pending",
      "output": "deployment-logs/workflow-state.json"
    },
    "phase2": {
      "status": "pending",
      "output": ["CODE_ANALYSIS.md", "deployment-logs/project-structure.json"],
      "skip_if_exists": true
    },
    "phase3": {
      "status": "pending", 
      "output": "CODE_REVIEW_REPORT.md",
      "skip_if_exists": true
    },
    "phase5b": {
      "status": "pending",
      "output": "test-logs/phase5b_efficient_test_results.json",
      "skip_if_pass_rate": "from_config",
      "condition": "backend_url not empty"
    },
    "phase5c": {
      "status": "pending",
      "output": "test-logs/phase5c_test_results.json",
      "skip_if_pass_rate": "from_config",
      "condition": "frontend_url not empty"
    },
    "phase6": {
      "status": "pending",
      "output": "docs/"
    }
  },
  
  "rules": {
    "stop_on_failure": true,
    "pty_required": true,
    "user_confirmation_required": ["init"],
    "forbidden_substitutes": ["sessions_spawn", "manual_commands"],
    "config_file": "references/config/phase5-loop-control.json"
  }
}
